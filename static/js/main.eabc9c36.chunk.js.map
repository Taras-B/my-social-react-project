{"version":3,"sources":["redux/masseges-reducer.js","api/api.js","components/common/Paginator/Paginator.module.css","components/Users/users.module.css","assets/ava-img.jpg","assets/loading.svg","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","components/hoc/withSuspense.js","App.js","index.js","components/common/preloader/Preloader.js","components/common/FormsControls/FormContol.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["initialMessages","dialogs","id","name","messages","message","sendMessagesCreator","newMessageBody","type","massegesReducer","state","action","body","Date","now","instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","getMe","login","email","password","rememberMe","logout","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Input","props","restProps","child","Textarea","createField","placeholder","validators","component","text","validate","Navbar","s","nav","item","NavLink","to","activeClassName","active","News","Music","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowProgress","following","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","async","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","useState","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","useEffect","onClick","p","key","style","selectedPage","User","user","src","photos","small","userPhoto","alt","usersPhoto","disabled","some","Users","getUsersS","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgres","UsersContainer","pageNumber","this","Preloader","React","Component","compose","connect","bind","totalCount","Header","header","loginBlock","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","stopSubmit","_error","Redirect","formData","log","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","massegesPage","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Route","path","render","Login","AppContainer","withRouter","promise","Promise","all","MainApp","HashRouter","basename","process","ReactDOM","document","getElementById","loadingSvg","width","value","maxLengthCreator","maxLength","length","posts","likeCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.eabc9c36.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialMessages = {\r\n    dialogs: [{\r\n            id: 1,\r\n            name: 'Andrey'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Dima'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Oleh'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Ana'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Olesia'\r\n        }\r\n    ],\r\n    messages: [{\r\n            id: 1,\r\n            message: 'Hi, how are your lessons'\r\n        },\r\n        {\r\n            id: 2,\r\n            message: 'Hi, fine'\r\n        },\r\n        {\r\n            id: 3,\r\n            message: 'Ok, by by'\r\n        }\r\n    ],\r\n}\r\n\r\nconst massegesReducer = (state = initialMessages, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                newMessageBody: '',\r\n                    messages: [...state.messages, {\r\n                        id: Date.now(),\r\n                        message: body\r\n                    }]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const sendMessagesCreator = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessageBody\r\n    }\r\n};\r\n\r\nexport default massegesReducer;","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\"API-KEY\": \"7898467d-1e2f-4ef0-ba59-6a5a0c76a13b\"}\r\n})\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n       return instance.post(`https://social-network.samuraijs.com/api/1.0/follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolote method. Please profileAPI object')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    getMe() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2aI17\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__2N24T\",\"selectedPage\":\"users_selectedPage__L5mmi\"};","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/loading.435a9b85.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2qvZq\",\"item\":\"Navbar_item__27xTw\",\"active\":\"Navbar_active__2rEA5\"};","import React from 'react'\r\nimport styles from './FormContol.module.css'\r\nimport { Field } from 'redux-form'\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span> }\r\n\r\n        </div>\r\n    )\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}> <input {...input} {...restProps} /> </FormControl>\r\n}\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}> <textarea {...input} {...restProps} /> </FormControl>\r\n}\r\n\r\nexport const createField = ( placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n                name={name}\r\n                validate={validators} \r\n                component={component} \r\n                {...props}/>{text} \r\n    </div>\r\n)","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.active}>Masseges</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            {/* <div className={s.item}>\r\n                <NavLink to=\"/dialogs\">Masseges</NavLink>\r\n            </div> */}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n// import s from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>News</div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n// import s from './Music.module.css';\r\nconst Music = () => {\r\n    return (\r\n        <div>Music</div>\r\n    )\r\n}\r\n\r\nexport default Music;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {\r\n                ...u,\r\n                ...newObjProps\r\n            }\r\n        }\r\n        return u;\r\n    })\r\n}","import {\r\n    userAPI\r\n} from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n                // state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {\r\n                //             ...u,\r\n                //             followed: true\r\n                //         }\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n                //  state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {\r\n                //             ...u,\r\n                //             followed: false\r\n                //         }\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_COUNT:\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state, followingInProgress: action.following ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    }\r\n};\r\nexport const unfollowSuccess = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    }\r\n};\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    }\r\n};\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n    return {\r\n        type: SET_TOTAL_COUNT,\r\n        count: totalUsersCount\r\n    }\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n};\r\nexport const toggleFollowProgress = (following, userId) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        following,\r\n        userId\r\n    }\r\n};\r\n\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(currentPage))\r\n\r\n        let data = await userAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n   \r\n        dispatch(toggleFollowProgress(true, userId))\r\n        let response = await apiMethod(userId)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(actionCreator(userId))\r\n        }\r\n        dispatch(toggleFollowProgress(false, userId))\r\n}\r\nexport const follow = (userId) => {\r\n    return (dispatch) => {\r\n        // dispatch(toggleFollowProgress(true, userId))\r\n        // let response = await userAPI.follow(userId)\r\n        // if (response.data.resultCode === 0) {\r\n        //     dispatch(followSuccess(userId))\r\n        // }\r\n        // dispatch(toggleFollowProgress(false, userId))\r\n\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return (dispatch) => {\r\n        // dispatch(toggleFollowProgress(true, userId))\r\n        // let response = await userAPI.unfollow(userId)\r\n        // if (response.data.resultCode === 0) {\r\n        //     dispatch(unfollowSuccess(userId))\r\n        // }\r\n        // dispatch(toggleFollowProgress(false, userId))\r\n\r\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess)\r\n\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React, { useState, useEffect } from 'react'\r\n\r\nimport style from './Paginator.module.css'\r\n// import userPhoto from '../../assets/ava-img.jpg'\r\n// import { NavLink } from 'react-router-dom';\r\n// import * as axios from 'axios';\r\n// import { userAPI } from '../../api/api';\r\n\r\nconst Paginator = ({currentPage, totalItemsCount, pageSize, onPageChanged, portionSize = 10, ...props}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    \r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    useEffect(() => {\r\n        onPageChanged(leftPortionPageNumber)\r\n    }, [leftPortionPageNumber, onPageChanged]); \r\n    \r\n    \r\n//     let nextButtonClick = () => { let LNumber = leftPortionPageNumber\r\n//         setPortionNumber(portionNumber + 1)\r\n//         onPageChanged(LNumber)\r\n// }\r\n// const memoizedCallback = useCallback(() => {\r\n//    return onPageChanged(leftPortionPageNumber)\r\n    \r\n//   }, [leftPortionPageNumber, onPageChanged]);\r\n\r\n//     useEffect(() => {\r\n//         // onPageChanged(leftPortionPageNumber)\r\n//         memoizedCallback()\r\n//     }, [memoizedCallback]);  \r\n    \r\n    return ( \r\n        <div>\r\n            {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>}\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map(p => {\r\n                        return <span key={p}\r\n                        className={currentPage === p ? style.selectedPage : \"\"}\r\n                            onClick={() => {onPageChanged(p) }}>{p}</span>\r\n            })}\r\n\r\n            {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}\r\n                        >Next</button>}\r\n             \r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Paginator\r\n","import React from 'react'\r\n\r\nimport style from './users.module.css'\r\nimport userPhoto from '../../assets/ava-img.jpg'\r\nimport { NavLink } from 'react-router-dom';\r\n// import Paginator from '../common/Paginator/Paginator';\r\n// import * as axios from 'axios';\r\n// import { userAPI } from '../../api/api';\r\n\r\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}><img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"photoj\" className={style.usersPhoto} /></NavLink></div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => { unfollow(user.id) }}>Unfollow</button>\r\n                        : < button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                follow(user.id)\r\n                            }} >Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <div>{\"user.location.city\"}</div>\r\n                <div>{\"user.location.country\"}</div>\r\n                <span>\r\n\r\n                </span>\r\n            </span>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\n\r\n// import style from './users.module.css'\r\n// import userPhoto from '../../assets/ava-img.jpg'\r\n// import { NavLink } from 'react-router-dom';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n// import * as axios from 'axios';\r\n// import { userAPI } from '../../api/api';\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, unfollow, follow, followingInProgress, ...props}) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} \r\n                        totalItemsCount={totalUsersCount}\r\n                        pageSize={pageSize} \r\n                        onPageChanged={onPageChanged} />\r\n\r\n            <div>\r\n                {users.map(u => <User user={u} \r\n                                      followingInProgress={followingInProgress} \r\n                                      key={u.id}\r\n                                      unfollow={unfollow}\r\n                                      follow={follow} />)}\r\n            </div>\r\n        {/* //     <div key={u.id}/>\r\n        //         <span>\r\n        //             <div>\r\n        //                 <NavLink to={'/profile/' + u.id}><img src={u.photos.small != null ? u.photos.small : userPhoto} alt=\"photoj\" className={style.usersPhoto} /></NavLink></div>\r\n        //             <div>\r\n        //                 {u.followed\r\n        //                     ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n        //                         onClick={() => { props.unfollow(u.id) }}>Unfollow</button>\r\n        //                     : < button disabled={props.followingInProgress.some(id => id === u.id)}\r\n        //                         onClick={() => {\r\n        //                             props.follow(u.id)\r\n        //                         }} >Follow</button>}\r\n        //             </div>\r\n        //         </span>\r\n        //         <span>\r\n        //             <span>\r\n        //                 <div>{u.name}</div>\r\n        //                 <div>{u.status}</div>\r\n        //             </span>\r\n        //             <div>{\"u.location.city\"}</div>\r\n        //             <div>{\"u.location.country\"}</div>\r\n        //             <span>\r\n\r\n        //             </span>\r\n        //         </span>\r\n        //     </div>)} */}\r\n         </div>\r\n    )\r\n}\r\n\r\nexport default Users\r\n","import { createSelector } from \"reselect\"\r\n\r\nconst getUsersSelector =(state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersS = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize =(state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount =(state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage =(state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching =(state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgres =(state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n    follow,\r\n    unfollow,\r\n    // setUsers,\r\n    setCurrentPage,\r\n    // setTotalUsersCount,\r\n    // toggleIsFetching,\r\n    toggleFollowProgress,\r\n    getUsers\r\n} from '../../redux/users-reducer'\r\n\r\nimport Users from './Users'\r\nimport Preloader from '../common/preloader/Preloader'\r\nimport { compose } from 'redux'\r\nimport {\r\n    getUsersS,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getFollowingInProgres\r\n} from '../../redux/users-selectors'\r\n// import { withAuthRedirect } from '../hoc/withAuthRedirect'\r\n// import { userAPI } from '../../api/api'\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        // this.props.toggleIsFetching(true)\r\n\r\n        // userAPI.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n        //     this.props.toggleIsFetching(false)\r\n        //     this.props.setUsers(data.items)\r\n        //     this.props.setTotalUsersCount(data.totalCount)\r\n        // })\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n            \r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n\r\n        // this.props.setCurrentPage(pageNumber)\r\n        // this.props.toggleIsFetching(true)\r\n\r\n        // userAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\r\n        //     this.props.toggleIsFetching(false)\r\n        //     this.props.setUsers(data.items)\r\n        // })\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        \r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersS(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgres(state)\r\n    }\r\n}\r\n\r\n// const mapStateToProps = (state) => {\r\n//     return {\r\n//         users: getUsersS(state),\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => {\r\n//             dispatch(followAC(userId))\r\n//         },\r\n//         unfollow: (userId) => {\r\n//             dispatch(unfollowAC(userId))\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage: (pageNumber) => {\r\n//             dispatch(setCurrentPageAC(pageNumber))\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         toggleIsFetching: (isFetching) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }\r\n\r\n// export default connect(mapStateToProps, {\r\n//     follow,\r\n//     unfollow,\r\n//     setCurrentPage,\r\n//     toggleFollowProgress,\r\n//     getUsers\r\n// })(UsersContainer)\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowProgress,\r\n        getUsers\r\n    })\r\n)(UsersContainer)\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Logo_TV_2015.svg/1200px-Logo_TV_2015.svg.png\" alt=\"Logo\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                     ? <div> {props.login} - <button onClick={props.logout}>Log out</button> </div>:\r\n                    <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../api/api\"\r\nimport { stopSubmit } from \"redux-form\"\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n\r\n            default:\r\n                return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {\r\n        userId,\r\n        email,\r\n        login,\r\n        isAuth\r\n    }\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response =  await authAPI.getMe()\r\n        if(response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data\r\n            dispatch(setAuthUserData(id, email, login, true))\r\n        }\r\n    \r\n    \r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n   let response = await authAPI.login(email, password, rememberMe)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            let message = response.data.resultCode > 0 ? response.data.messages[0] : 'SomeMessages'\r\n            dispatch(stopSubmit(\"login\", {_error: message}))\r\n        }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n}\r\n\r\nexport default authReducer","import React, { Component } from 'react'\r\nimport Header from './Header'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../../redux/auth-reducer'\r\n\r\n// import { authAPI } from '../../api/api'\r\n\r\nclass HeaderContainer extends Component {\r\n\r\n    // componentDidMount() {\r\n    //     // this.props.toggleIsFetching(true)\r\n    //     // axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`, { withCredentials: true })\r\n    //     // .then(response => {\r\n    //     //     if(response.data.resultCode === 0) {\r\n    //     //         let {id, email, login} = response.data.data\r\n    //     //         this.props.setAuthUserData(id, email, login)\r\n    //     //     }\r\n    //     // })\r\n    //     this.props.getAuthUserData()\r\n    // } \r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout}) (HeaderContainer)","import React from 'react'\r\nimport { reduxForm } from 'redux-form'\r\nimport { Input, createField } from '../common/FormsControls/FormsControls'\r\nimport { required } from '../../utils/validators/validators'\r\nimport { connect } from 'react-redux'\r\nimport { login } from '../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport style from './../common/FormsControls/FormContol.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n                {createField(\"Email\", \"email\", [required], Input)}\r\n                {createField(\"Pasword\", \"password\", [required], Input)}\r\n                {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\r\n            {/* <div>\r\n                <Field placeholder={\"Email\"} validate={[required]} name={'email'} component={Input} />\r\n            </div>\r\n            <div>\r\n\r\n                 <Field placeholder={\"Pasword\"} validate={[required]} name={'password'} component={Input} /> \r\n            </div>\r\n            <div>\r\n                <Field type={\"checkbox\"} validate={[required]} name={'rememberMe'} component={Input} /> remember me\r\n            </div> */}\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div><button>Login</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n        console.log(formData)\r\n    }\r\n\r\n    if (props.isAuth) return <Redirect to={\"/profile\"} />\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login)\r\n","// import { authAPI } from \"../api/api\"\r\n// import { stopSubmit } from \"redux-form\"\r\nimport {getAuthUserData} from './auth-reducer'\r\n\r\nconst INITIALIZADE_SUCCESS = 'INITIALIZADE_SUCCESS'\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZADE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZADE_SUCCESS,\r\n    \r\n})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess())\r\n\r\n    })\r\n}\r\n\r\n// export const getAuthUserData = () =>  (dispatch) => {\r\n//     authAPI.getMe().then(response => {\r\n//         if(response.data.resultCode === 0) {\r\n//             let {id, login, email} = response.data.data\r\n//             dispatch(setAuthUserData(id, email, login, true))\r\n//         }\r\n    \r\n//     })\r\n// }\r\n\r\n// export const login = (email, password, rememberMe) => (dispatch) => {\r\n//     authAPI.login(email, password, rememberMe).then(response => {\r\n//         if (response.data.resultCode === 0) {\r\n//             dispatch(getAuthUserData())\r\n//         } else {\r\n//             let message = response.data.resultCode > 0 ? response.data.messages[0] : 'SomeMessages'\r\n//             dispatch(stopSubmit(\"login\", {_error: message}))\r\n//         }\r\n//     })\r\n// }\r\n// export const logout = () => (dispatch) => {\r\n//     authAPI.logout().then(response => {\r\n//         if (response.data.resultCode === 0) {\r\n//             dispatch(setAuthUserData(null, null, null, false))\r\n//         }\r\n//     })\r\n// }\r\n\r\nexport default appReducer","import { createStore, combineReducers, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport massegesReducer from \"./masseges-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport { applyMiddleware } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    massegesPage: massegesReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n  ));\r\n\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store //       \r\n\r\nexport default store;","import React from 'react'\r\nimport Preloader from '../common/preloader/Preloader'\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}><Component {...props} /></React.Suspense>\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\nimport { Route, withRouter, HashRouter } from 'react-router-dom';\n\nimport './App.css';\n\n// import Header from './components/Header/Header';\nimport Navbar from './components/Navbar/Navbar';\n// import Profile from './components/Profile/Profile';\n// import Dialogs from './components/Dialogs/Dialogs';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\n\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\n// import Users from './components/Users/Users';\nimport UsersContainer from './components/Users/UsersContainer';\n// import ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\n\n\n\nimport { initializeApp } from './redux/app-reducer';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\n// import  {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport store from './redux/redux-store';\n\nimport Preloader from './components/common/preloader/Preloader';\nimport { withSuspense } from './components/hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp()\n  } \n  render() {\n    if(!this.props.initialized) return <Preloader /> //    , + ,css\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n          <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n          <Route path='/users' render={() => <UsersContainer />} />\n          <Route path='/news' component={News} />\n          <Route path='/music' component={Music} />\n          <Route path='/login' component={Login} />\n        </div>\n      </div>\n    )\n  }\n}\n// state={state} dispatch={store.dispatch.bind(store)} store={store}\n// store={props.store}\n// store={props.store} \nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n// export default App;\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp})) (App)\n\nconst MainApp = (props) => {\n  return <HashRouter basename={process.env.PUBLIC_URL}>\n          <Provider store={store}>\n            <AppContainer />\n          </Provider>\n        </HashRouter>\n\n}\n\nexport default MainApp\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n\nimport './index.css';\nimport MainApp from './App';\n\n\nReactDOM.render(<MainApp />, document.getElementById('root'));      \n","import React from 'react'\r\n\r\nimport loadingSvg from '../../../assets/loading.svg'\r\n\r\nconst Preloader = (props) => {\r\n    return <img src={loadingSvg} alt=\"is\" style={{ width: '200px' }}/>\r\n}\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormContol_formControl__3M-If\",\"error\":\"FormContol_error__1EI7G\",\"formSummaryError\":\"FormContol_formSummaryError__1vwHd\"};","export const required = (value) => {\r\n    if (value) return undefined\r\n\r\n    return \"Field is required\"\r\n}\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__20KWB\",\"loginBlock\":\"Header_loginBlock__xNqGS\"};","import { userAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likeCount: 10},\r\n        {id: 2, message: 'It is my first props', likeCount: 23},\r\n        {id: 3, message: 'It the end?', likeCount: 70}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likeCount: 2\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n\r\n            // let stateCopy = {...state};\r\n            // stateCopy.posts = [...state.posts];\r\n            // stateCopy.posts.push(newPost);\r\n            // stateCopy.newPostText = '';\r\n            // return stateCopy;\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state,\r\n                    posts: state.posts.filter(p => p.id !== action.postId)}\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_USER_STATUS: { \r\n            return {...state, status: action.status}\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return { type: ADD_POST,\r\n        newPostText\r\n    }\r\n};\r\nexport const setUserProfile = (profile) => {\r\n    return {type: SET_USER_PROFILE, profile}\r\n};\r\nexport const setStatus = (status) => {\r\n    return {type: SET_USER_STATUS, status}\r\n};\r\n\r\nexport const deletePost = (postId) => {\r\n    return {type: DELETE_POST, postId}\r\n};\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId) \r\n            dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n            dispatch(setStatus(response.data))\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status))\r\n            }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}